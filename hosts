# Kubernetes nodes
[first-master]
10.140.79.121 node_name=master01

[other-master]
10.140.79.122 node_name=master02
10.140.79.123 node_name=master03

[kube-node]
10.140.79.107 node_name=worker01
10.140.79.109 node_name=worker02
10.140.79.110 node_name=worker03

[lb-etcd]
10.140.79.121 if="eth0" lb_role=master priority=100 node_name=master01 
10.140.79.122 if="eth0" lb_role=backup priority=90 node_name=master02
10.140.79.123 if="eth0" lb_role=backup priority=80 node_name=master03


[all:vars]
master01="10.140.79.121"
master02="10.140.79.122"
master03="10.140.79.123"

#Kubernetes API Server
keepalived_vip="10.140.79.121"

kube-apiserver="https://{{ keepalived_vip }}:6443"

# etcd nodes
tmp_nodes="{% for h in groups['lb-etcd'] %}{{ hostvars[h]['node_name'] }}=https://{{ h }}:2380,{% endfor %}"
etcd_nodes="{{ tmp_nodes.rstrip(',') }}"

# etcd endpoints
tmp_endpoints="{% for h in groups['lb-etcd'] %}https://{{ h }}:2379,{% endfor %}"
etcd_endpoints="{{ tmp_endpoints.rstrip(',') }}"

# Network plugin (calico or flannel)
network_plugin="flannel"

# pod network
pod_network="10.244.0.0/16"

bin_dir="/usr/local/bin"

# Ansible working directory
base_dir="/etc/ansible"

# The etcd certificates directory on kubernetes master nodes
etcd_ca_dir="/etc/kubernetes/pki/etcd"

# Docker version
docker_version="20.10.12"

# etc version
etcd_version="v3.5.0-0"

# Kubernetes version
k8s_version_ubuntu="v1.22.0-00"

# The certificates directory on frist master node
cert_generate_dir="/opt/ssl"

# Kubernetes apps yaml directory
yaml_dir="/root/.kube/kube-apps"

# Kubernetes certificates directory
kube_cert_dir="/etc/kubernetes/pki"

# Kubernetes config path
kube_config_dir="/etc/kubernetes"
